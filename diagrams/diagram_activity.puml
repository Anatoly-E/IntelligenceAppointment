@startuml IntelligenceAppointment
title Система управления IntelligenceAppointment - Activity Diagram

start

:Нажатие на пульт управления;

if (Ворота закрыты?) then (Да)
  :Открыть ворота;
  :Включить освещение внутри помещения;
  note right
    Можно настроить время/яркость
  end note
  :Включить автоматы розеток и выключателей группы потребителей;
  :Отключить датчики движения;
  :Отключить охранную сигнализацию;
else (Нет)
  :Закрыть ворота;
  :Через заданное время отключить освещение;
  :Отключить автоматы розеток и выключателей некоторых групп потребителей;
  note right
    В тёмное время не обесточиваются группы наружного освещения
  end note
  :Тёплый пол -> режим энергосбережения;
  note right
    В зимний период снижает температуру пола до заданной
  end note
  :Включить датчики движения;
  note right
    Снаружи — включает освещение  
    Внутри — активирует сигнализацию
  end note
  :Включить охранную сигнализацию;
endif

partition "Энергоменеджмент" {
  :Тёплый пол поднимает температуру 
  за несколько часов до заданного времени;
  note right
    Рабочие дни — по календарю  
    Выходные — в энергосбережении  
    Данные берутся из таблиц
  end note
  :Измерение энергопотребления всех контролируемых источников;
}

stop
@enduml
